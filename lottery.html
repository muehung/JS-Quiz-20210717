<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>五倍樂透手動選號機</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="warning"></div>
  <input type="text">

  <div class="wrap">

    <div class="lottery-nums"></div>
    <div class="lottery-guest">已選號碼： <span></span></div>
    <div class="lottery-result">開獎號碼： <span></span></div>

    <div class="btn-box">
      <button class="btn btn-lottery">兌獎</button>
      <button class="btn reset">重設</button>
    </div>

  </div>

  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

  <!--
  延續先前範例
    1. 將數字區塊變成可以讓使⽤者點選號碼的按鈕。
    2. 判斷使⽤者是否選擇了六個號碼
    對獎時，搭配先前做的「五倍樂透⾃動選號機」產⽣的號碼進⾏比對。
  -->

  <script type="text/javascript">
    let i;
    const lotteryArr = [];

    // 產生 49 顆按鈕
    for(i=0; i<50; i++){
      $('.lottery-nums').append(`<div>${i}</div>`);
    }

    // 1. 為數字按鈕加入事件
    $('.lottery-nums div').on('click', function (e) {
      let target = $(e.target);
      let text = $(target).text();
      let check = lotteryArr.indexOf(text);
      const warning = $('.warning');
      
      warning.text('');
      if( check === -1 ){
        $(target).addClass('selected');
        lotteryArr.push(text);
      } else {
        warning.text('不能重複選');
      }
      if (lotteryArr.length > 6) {
        lotteryArr.length === 5;
        target.removeClass('selected');
        warning.text('最多選 6 組數字');
      }
      $('.lottery-guest span').text(lotteryArr);
    });

    // 重設按鈕
    $('.reset').on('click', function () {
      $('.lottery-nums > div').removeClass('selected');
      lotteryArr.length = 0;
    });


    // 兌獎按鈕
    $('.btn-lottery').on('click', function () {
      // for(i=1; i<50; i++){
        let selectNum = $('.lottery-nums div.selected').text();
        let a = [];
        a.push(selectNum)
        console.log(`last: ${a}`);
      // }
    });

  </script>

</body>

</html>